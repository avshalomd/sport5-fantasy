function addBookiePresentIcon(){$(".mob-link-item:contains('Bookie Offers'), .mob-link-item:contains('Free Bets')").addClass("bookie-offers-link-icon")}function initDom(){switch(takeover.init(),stickyHeader.init(),commonUtils.cacheBuster(),navigation.init(),betSlip.init(),myOddsChecker.init(),siteSettings.init(),tabs.init(),utilityBar.init(),popup.init(),imageSwitcher.init(),pastOrNextRace.init(),countries.init(),impressionTracking.init(),oc.view){case"cards/default":var e=$(".eurovision-splash").eq(0).attr("data-grand-national-url");$(".eurovision-splash li").click(function(){document.location.href=e+"?selectionName="+$(this).attr("data-horse-name")}),timeSeriesChart.init();case"cards/american":case"cards/formula1":case"cards/coupon":case"cards/match-bets":case"content/fast_results":case"content/fast_results_legacy":fixtures.init(),$(".video-link").click(function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#rhc .video-container").offset().top-10},1e3),$("#rhc .video-container").attr("data-video-url",$(this).attr("data-url")).click()});break;case"content/cheltenham_results":fixtures.initCheltenhamFestivalResults();break;case"content/grand_national_results":$(".mob-link-item:contains('Bookie Offers'), .mob-link-item:contains('Free Bets')").addClass("bookie-offers-link-icon");break;case"cards/racing":fixtures.init(),$(".video-link").click(function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#rhc .video-container").offset().top-10},1e3),$("#rhc .video-container").attr("data-video-url",$(this).attr("data-url")).click()}),"Cheltenham Festival"!==oc.eventName&&"Grand National"!==oc.eventName&&"National Hunt"!==oc.eventName&&"Aintree"!==oc.eventName||addBookiePresentIcon();break;case"cards/reports":cardReports.init();break;case"odds/all_odds":fixtures.racingShortCut(),oddsMoreFilter.init(),Chart.init(),gridInfoBanner.init(),quickBetBar.init(),oddsTable.init(),timeSeriesChart.init(),gridCollapse.init(),requestABet.init();var t=getInitialOddsState();"Cheltenham Festival"!==oc.eventName&&"Grand National"!==oc.eventName&&"National Hunt"!==oc.eventName&&"Aintree"!==oc.eventName||addBookiePresentIcon(),t?OddsStore.init(t):console.error("Error while oddsState init: ",t,OddsStore);break;case"odds/all_odds_more":oddsMoreFilter.init();break;case"content/homepage":nextRacesWidget.init(),fixtures.racingShortCut(),fixtures.footballShortCut(),fixtures.setLinks(),ui.initCustomSelect(function(){$("#most-popular").find("ul").removeClass("ui-tabs-hide"),$("#most-popular").find("ul").hide(),$("#most-popular").find("ul#all").show()},function(e){$("#most-popular").find("ul").hide(),$("#most-popular").find("ul#"+e).show()});break;case"content/tips_homepage":fixtures.initCheltenhamCountdown(),oc.urlPath.indexOf("cheltenham-festival")>-1&&fixtures.initCheltenhamDateFilter();break;case"content/tips_article":redeye.triggerEvent("tipsArticleView",["tipscategory","tipname","tipstername"]);break;case"content/sport_homepage":case"content/big_race":fixtures.init();break;case"content/content_html_empty":commonUtils.angularCompiler("#mc");break;case"content/page_LC0":oddsTable.init(),$("#lucky-dip-link").click(function(){window.location.reload()});break;case"stats/market-reports":stats.marketReports();break;case"non-static/bet-basket":betBasket.init();break;case"content/casino_offers":case"content/bookie_offers":case"content/bookie_offers_nav":bookieOffers.init();break;case"content/bookie":bookieReview.init();break;case"myoddschecker/my-profile":$(".submit.button").on("click",function(e){$.cookie("redeyeEvent","updateEmailPrefs",{path:"/",expires:365,domain:oc.cookieDomain})}),redeye.addObjectToDataLayer({emailPrefs:{freeBets:$("#free-bets")[0].checked}});break;case"results/day_results":fixtures.initDayResults();break;case"results/subevent_results":fixtures.initSubeventResults()}window.ocRenderers["banner-oddschecker"]({apiKey:oc.apiKey,sessionCookieName:("LIVE"!==oc.server?oc.server+"_":"")+"myoc",deviceID:atob($.cookie(("LIVE"!==oc.server?oc.server+"_":"")+"myoc_device")),gdprCookieVersion:oc.gdprCookieVersion}),redeye.checkRedeyeEventCookie(),oc.diffusion.createNewTopic&&oc.diffusion.subscriberClientNew.init({topic:oc.diffusion.topic}),validation.init(),hotjar.init(),oc.adTTHOn&&tthAdverts.insertScriptAndDefineTags()}function initPage(){common.addXPIDToDataLayer(),$(document).ready(function(){var e=document.getElementsByTagName("body");angular.bootstrap(e,["ocAngularApp"]),oc.isSkyBetApiOn&&loadSkybet(),initDom()})}function wait1SpecificJavaScriptFiles(){var e=[];if(oc.diffusion.createNewTopic){"https://www.localhost.occloud.io/"===oc.mainUrl?"https://www.dev.occloud.io/":oc.mainUrl;e.push({src:oc.jsStaticServerBuildFolder+"third-party/diffusion"+oc.cacheBusterThirdPartyFileNames+".js"})}return e}function waitBetaSpecificJavaScriptFiles(){var e=[];return e.push({src:oc.widgetBetslipJS}),e.push({src:oc.widgetTandCsJS}),e.push({src:oc.jsStaticServerBuildFolder+"default/oc"+oc.cacheBusterOCJSCSSfileNames+".js"}),e}function wait2SpecificJavaScriptFiles(){var e=[];switch(oc.view){case"odds/all_odds":e.push({src:oc.jsStaticServerBuildFolder+"third-party/highcharts.min"+oc.cacheBusterThirdPartyFileNames+".js"}),e.push({src:oc.jsStaticServerBuildFolder+"default/all-odds-sort"+oc.cacheBusterOCJSCSSfileNames+".js"});break;case"stats/market-reports":case"cards/reports":e.push({src:oc.jsStaticServerBuildFolder+"third-party/jquery.tablesorter.min"+oc.cacheBusterThirdPartyFileNames+".js"});break;case"data-services/default":e.push({src:oc.jsStaticServerBuildFolder+"default/data-services"+oc.cacheBusterOCJSCSSfileNames+".js"})}return oc.diffusion.createNewTopic&&e.push({src:oc.jsStaticServerBuildFolder+"default/diffusion-ui-client"+oc.cacheBusterOCJSCSSfileNames+".js"}),"true"===oc.diffusion.fixtureExists&&e.push({src:oc.jsStaticServerBuildFolder+"default/diffusion-ui-score-card"+oc.cacheBusterOCJSCSSfileNames+".js"}),e.push({src:oc.jsStaticServerBuildFolder+"third-party/jquery.validate"+oc.cacheBusterThirdPartyFileNames+".js"}),void 0!=oc.cheltenhamStartDate&&e.push({src:oc.jsStaticServerBuildFolder+"third-party/jquery.countdown.min"+oc.cacheBusterThirdPartyFileNames+".js"}),oc.isTouchable&&oc.view.indexOf("cards")!=-1&&e.push({src:oc.jsStaticServerBuildFolder+"third-party/jquery.ui.touch-punch.min"+oc.cacheBusterThirdPartyFileNames+".js"}),e}function initSentry(){"undefined"!=typeof Sentry&&Sentry.init({dsn:"https://ad3e9f721f274a368652a9779d9f560a@o465114.ingest.sentry.io/5476742",integrations:[new Sentry.Integrations.BrowserTracing],environment:"undefined"!=typeof window.oc&&"LIVE"===window.oc.server?"PROD":"STG",tracesSampleRate:1})}window.LOG=function(e){"object"==typeof console&&console.log(e)};var $L=$LAB;$L=$L.script(oc.jsStaticServerBuildFolder+"third-party/bundle.tracing.min"+oc.cacheBusterThirdPartyFileNames+".js").wait(initSentry).script(oc.jsStaticServerBuildFolder+"third-party/jquery-ui-1.9.1.custom.min"+oc.cacheBusterThirdPartyFileNames+".js").script(wait1SpecificJavaScriptFiles()).script(waitBetaSpecificJavaScriptFiles()).wait().script(oc.jsStaticServerBuildFolder+"third-party/jquery.cookie.min"+oc.cacheBusterThirdPartyFileNames+".js").script(oc.jsStaticServerBuildFolder+"third-party/jquery.hover-intent.min"+oc.cacheBusterThirdPartyFileNames+".js").script(oc.jsStaticServerBuildFolder+"third-party/popper.min"+oc.cacheBusterThirdPartyFileNames+".js").script(oc.jsStaticServerBuildFolder+"third-party/tooltip.min"+oc.cacheBusterThirdPartyFileNames+".js").script(oc.jsStaticServerBuildFolder+"default/functions"+oc.cacheBusterOCJSCSSfileNames+".js").script(wait2SpecificJavaScriptFiles()).wait(function(){initPage()});var loadSkybet=function(){$.cookie("__SBA_POLLTIME",null,{path:"/"}),setTimeout(function(){try{if($.log("Loading Skybet Account Framework"),!window.SkyBetAccount)throw new Error("Could not find SkyBetAccount integration object");var e=oc.mainUrlSsl.replace(/\/(m|mapp|t|tapp)\/$/,"");window.SkyBetAccount.setup({consumer:oc.skybetConsumer,consumerUrl:e})}catch(t){oc.isSkyBetApiOn=!1,$.log("Skybet SSO Error caught: "+t.message)}},50)},parseInitOddsDataAttr=function(e){if(e){var t=e.split(",");return t.map(function(e){var t=e.split("_");return{ocBetId:t[0],bookieCode:t[1],odds:t[2],oddsDig:t[3]?Number(t[3]):0,failed:"1"===t[4]}})}},getInitialOddsState=function(){var e=$(".diff-row"),t=[];return e.each(function(){var e=$(this).attr("data-initial-odds-state"),i=parseInitOddsDataAttr(e);i&&(t=t.concat(i))}),t};